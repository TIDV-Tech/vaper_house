{% macro navbar(options) %}
  <nav>
    <ul>
      {% for option in options %}
        <li><a href="{{ option.url }}">{{ option.name }}</a></li>
      {% endfor %}
    </ul>
  </nav>
{% endmacro %}

{% macro images_carousel(images) %}
  <div
    class="gallery js-flickity"
    data-flickity-options='{
      "wrapAround": true,
      "freeScroll": true,
      "autoPlay": true,
      "autoPlay": 2500,
      "draggable": true,
      "selectedAttraction": 0.01,
      "friction": 0.15,
      "fullscreen": true,
      "lazyLoad": 1
    }'
  >
    {% for image in images %}
      <div class="gallery-cell">
        <img src="/static/resources/{{ image }}" alt="">
      </div>
    {% endfor %}
  </div>
  <section id="main">
{% endmacro %}

{% macro category_section(categories) %}
  {% for category in categories %}
    <div class="category">
      <p>{{ category.name }}</p>
      <img src="/static/{{ category.img }}">
    </div>
  {% endfor %}
{% endmacro %}

{% macro products_section(products, show_content, logged) %}
  <section id="products">
    {% for product in products %}
      <div class="products">
        <div class="product">
          <a href="/producto/{{ product.id }}">
            <figure>
              <img src="/static/{{ product.img }}">
            </figure>
            {% if show_content %}
              <div class="contenido">
                <h3 title="{{ product.name }}">{{ product.name }}</h3>
                <span>${{ product.price }}</span><br>
                <h4>Ver producto</h4>
              </div>
            {% else %}
            <div class="contenido">
              <h3 title="{{ product.name }}">{{ product.name }}</h3>
            </div>
            {% endif %}
          </a>
        </div>
      </div>
    {% endfor %}
  </section>
{% endmacro %}

{% macro more_section(info, politica, social) %}
  <div class="info f">
    <span>Información</span>
    {% for inf in info %}<a href="#">{{ inf }}</a>{% endfor %}
  </div>
  <div class="politica f">
    <span>Políticas</span>
    {% for poli in politica %}<a href="#">{{ poli }}</a>{% endfor %}
  </div>
  <div class="pay f">
    <span>Métodos de Pago</span>
    <div>
      <p><i class="bx bx-credit-card bx-sm icon_f"></i></p>
      <p><i class="bx bxl-visa bx-sm icon_f"></i></p>
      <p><i class="bx bxl-paypal bx-sm icon_f"></i></p>
      <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m16.624 13.92l2.717 2.716l-7.353 7.353l-7.352-7.352l2.717-2.717l4.636 4.66l4.635-4.66zm4.637-4.636L24 12l-2.715 2.716L18.568 12l2.693-2.716zm-9.272 0l2.716 2.692l-2.717 2.717L9.272 12l2.716-2.715zm-9.273 0L5.41 12l-2.692 2.692L0 12l2.716-2.716zM11.99.01l7.352 7.33l-2.717 2.715l-4.636-4.636l-4.635 4.66l-2.717-2.716L11.989.011z"/></svg></p>
    </div>
  </div>
  <div class="follow f">
    <span>Síguenos</span>
    {% for soci in social %}
      <a href="#" class="{{ soci.red }}">
        <i class="{{ soci.ico }} icon_f"></i>
        {{ soci.dir }}
      </a>
    {% endfor %}
  </div>
{% endmacro %}

{% macro address_and_contact(address, contact, numbers) %}
  <hr>
  <p><i class="bx bx-map bx-sm icon_f"></i>{{ address }}</p>
  <p><i class="bx bxl-gmail bx-sm icon_f"></i>{{ contact }}</p>
  <p><i class="bx bx-phone bx-sm icon_f"></i>|
    {% for number in numbers %}
      {{ number }} |
    {% endfor %}
  </p>
{% endmacro %}

{% macro header_section(base, saldo, user, options, warning_msg) %}
  <section id="header">
    <div class="hd1">
      <a href="/home">
        <img src="/static/{{ base }}" alt="Logo Vaper House" id="logo">
      </a>
      <div>
        <i class='bx bx-menu icon' id="menu"></i>
      </div>
    </div>
    <div class="hd2">
      <div class="hd2_up">
        <div class="hd2_up_left">
          <form class="form_search" action="/buscar">
            <input type="search" name="search" placeholder="Encuentra todo para tu vapeo...">
            <button type="submit" class="submit_search">
              <i class='bx bx-search'></i>
            </button>
          </form>
        </div>
        <div class="hd2_up_right">
          <div>
            <span>${{ saldo }}</span>
            <div id="cart">
              <i class='bx bxs-cart icon'></i>
              <div id="carrito">
                <table id="list">
                  <thead>
                    <tr>
                      <th>Imagen</th>
                      <th>Nombre</th>
                      <th>Precio</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
                <div class="center">
                  <a href="#" id="empty" class="btn-empty">Vaciar</a>
                </div>
              </div>
            </div>
          </div>
          <div>
            {% if user %}
              <span>{{ user[0].fullName }}</span>
              <a href="/logout"><i class='bx bxs-user-circle icon'></i></a>
            {% else %}
              <span><a href="/acceso?page=login">Acceder</a></span>
              <i class='bx bxs-user-circle icon'></i>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="hd2_down">
        {{ navbar(options) }}
      </div>
    </div>
  </section>

  <marquee
    class="warning"
    behavior="scroll"
    direction="left"
    scrolldelay="100"
    scrollamount="15"
  >
    {{ warning_msg }}
  </marquee>
{% endmacro %}

{% macro modal() %}
  <div class="modal_bg" style="display: none;">
    <div class="loader"></div>
    <div class="modal_content">
      <h1>ADVERTENCIA</h1>
      <p>Este sitio contiene productos que son indebidos para menores de edad. Confirma que tienes más de 18 años para poder acceder.</p>
      <p>¿Tienes 18 años o más?</p>
      <button id="yes">Sí</button>
      <button id="no">No</button>
    </div>
  </div>
{% endmacro %}

{% macro footer(info, politica, social, direccion, contacto, numeros) %}
  <section id="footer">
    <div class="footer1">
      {{ more_section(info, politica, social) }}
    </div>
    <div class="footer2">
      {{ address_and_contact(direccion, contacto, numeros) }}
    </div>
  </section>
{% endmacro %}